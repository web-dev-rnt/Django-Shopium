{% extends 'myapp/base.html' %}
{% load static %}
{% block content %}

<style>
    /* Styles for responsive design */
    @media (max-width: 375px) {
        #hiddenitems {
            display: flex;
        }
    }
    
    .googfont {
        font-family: Roboto Mono;
        font-size: 25px;
    }

    .mantitle {
        font-family: Noto Sans Warang Citi;
        color: #7c7676;
    }

    

    .product-image {
        width: 100%;
        height: 180px; /* Fixed height for uniformity */
        object-fit: cover; /* Maintain aspect ratio */
        border-radius: 5px; /* Optional rounded corners */
    }
</style>

<!-- ========================= SECTION MAIN ========================= -->
<section class="section-name padding-y-sm">
    <div class="container">
        <header class="section-heading">
            <h3 class="mantitle">Categories</h3>
        </header>
        <div class="row">
            {% for link in lcount %}
            <div class="col-md-3">
                <a class="text-warning" href="{{ link.get_url }}">
                    <div class="cat-item d-flex align-items-center mb-4 custom-bg-color">
                        <div class="overflow-hidden round-image" style="width: 100px; height: 100px;">
                            <img class="img-fluid" src="{{ link.cat_image.url }}" alt="">
                        </div>
                        <div class="flex-fill pl-3">
                            <h5>{{ link.category_name }}</h5>
                            <small class="text-body">{{ link.product_count }} Products</small>
                        </div>
                    </div>
                </a>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- ========================= WOMEN'S PRODUCT DISPLAY ========================= -->
<section class="section-name padding-y-sm">
    <div class="container">
        <div class="row">
            <div class="col-12 col-md-6">
                <header class="section-heading">
                    <h4 class="mantitle">Women Section</h4>
                </header>
                <div id="hiddenitems" class="row">
                    {% for d, discount in product_discounts %}
                    {% if d.category != "Women's Top Wear" %}
                    <div class="col-4 col-sm-4 col-md-4 col-lg-3">
                        <div class="card card-product-grid" style="box-shadow: none; border: 1px solid #ddd;">
                            <a href="{{ d.get_url }}" class="img-wrap">
                                <img src="{{ d.images.url }}" class="product-image" alt="Product Image">
                            </a>
                            <figcaption class="info-wrap" style="padding: 10px;">
                                <center>
                                    <small class="brandj">{{ d.brand }}</small>
                                    <a href="{{ d.get_url }}" class="title">{{ d.name }}</a>
                                    <div class="d-flex align-items-center justify-content-center mt-2">
                                        <h5>र{{ d.sprice }}</h5>
                                        <h6 class="text-muted"><del>र{{ d.price }}</del></h6>
                                    </div>
                                    <span class="spanhyh">{{ discount }}% off</span>
                                </center>
                            </figcaption>
                        </div>
                    </div>
                    {% endif %}
                    {% endfor %}
                </div>
            </div>

            <!-- ========================= MEN'S PRODUCT DISPLAY ========================= -->
            <div class="col-12 col-md-6">
                <header class="section-heading">
                    <h4 class="mantitle">Men Section</h4>
                </header>
                <div id="hiddenitems" class="row">
                    {% for d, discount in product_discounts %}
                    {% if d.category != "Women's Top Wear" %}
                    <div class="col-4 col-sm-4 col-md-4 col-lg-3">
                        <div class="card card-product-grid" style="box-shadow: none; border: 1px solid #ddd;">
                            <a href="{{ d.get_url }}" class="img-wrap">
                                <img src="{{ d.images.url }}" class="product-image" alt="Product Image">
                            </a>
                            <figcaption class="info-wrap" style="padding: 10px;">
                                <center>
                                    <small class="brandj">{{ d.brand }}</small>
                                    <a href="{{ d.get_url }}" class="title">{{ d.name }}</a>
                                    <div class="d-flex align-items-center justify-content-center mt-2">
                                        <h5>र{{ d.sprice }}</h5>
                                        <h6 class="text-muted"><del>र{{ d.price }}</del></h6>
                                    </div>
                                    <span class="spanhyh">{{ discount }}% off</span>
                                </center>
                            </figcaption>
                        </div>
                    </div>
                    {% endif %}
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ========================= POPULAR PRODUCTS ========================= -->
<section class="section-name padding-y-sm">
    <div class="container">
        <header class="section-heading">
            <a href="{% url 'Store' %}" class="btn btn-outline-warning float-right">See all</a>
            <h3 class="mantitle">Popular products</h3>
        </header>
        <div id="hiddelaptopnitems" class="row">
            {% for d, discount in product_discounts %}
            <div class="col-md-3">
                <div class="card card-product-grid">
                    <a href="{{ d.get_url }}" class="img-wrap">
                        <img src="{{ d.images.url }}">
                    </a>
                    <figcaption class="info-wrap">
                        <center>
                            <small class="brandj">{{ d.brand }}</small>
                            <a href="{{ d.get_url }}" class="title">{{ d.name }}</a>
                            <div class="d-flex align-items-center justify-content-center mt-2">
                                <h5>र{{ d.sprice }}</h5>
                                <h6 class="text-muted ml-2"><del>र{{ d.price }}</del></h6>
                            </div>
                            <span class="spanhyh">{{ discount }}% off</span>
                        </center>
                    </figcaption>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<div>
    <img src="{% static 'myapp/images/py9.jpg' %}" class="img-fluid" width="100%">
</div>

<!-- ========================= RECENT PRODUCTS ========================= -->
<section class="section-name padding-y-sm">
    <div class="container">
        <header class="section-heading">
            <h3 class="section-title">Recent products</h3>
        </header>
        <div id="hiddelaptopnitems" class="row">
            {% for d, discount in latest_product_discounts %}
            <div class="col-md-3">
                <div class="card card-product-grid">
                    <a href="{{ d.get_url }}" class="img-wrap">
                        <img src="{{ d.images.url }}">
                    </a>
                    <figcaption class="info-wrap">
                        <center>
                            <small class="brandj">{{ d.brand }}</small>
                            <a href="{{ d.get_url }}" class="title">{{ d.name }}</a>
                            <div class="d-flex align-items-center justify-content-center mt-2">
                                <h5>र{{ d.sprice }}</h5>
                                <h6 class="text-muted ml-2"><del>र{{ d.price }}</del></h6>
                            </div>
                            <span class="spanhyh">{{ discount }}% off</span>
                        </center>
                    </figcaption>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

{% endblock %}
